@model IEnumerable<MvcInternetApplication.Models.UserComment>

@{
    ViewBag.Title = "Index";
    var grid = new WebGrid(source: Model, rowsPerPage: 10);
}
@*@section Commentstyle
{
    <link href="~/Content/themes/GridStyles.css" rel="stylesheet" />    
}*@

<h2>Index</h2>
@if (TempData.Peek("_UserRole") as string == "Admin" || TempData.Peek("_UserRole") as string == "Moderator")
{
    <p>
        @Html.ActionLink("Create New", "Create")|@Html.ActionLink("Всі коментарі", "Index")
    </p>
}
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ReviewID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LabelText)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.E_mail)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ReviewID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LabelText)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.E_mail)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Date)
            </td>
            <td>
                @if (TempData.Peek("_UserRole") as string != "Prosto")
                {
                           
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) <br />
                    @Html.ActionLink("Details", "Details", new { id = item.Id }) <br />
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })<br />
                }
            </td>
        </tr>
    }

</table>
@*<div>

          @grid.GetHtml(
    tableStyle: "grid",
              headerStyle: "header",
              rowStyle: "row",
              alternatingRowStyle: "alt-row",
              footerStyle: "footer",
              htmlAttributes: new { cellpadding = "6px", cellspacing = "0px" },
    columns: grid.Columns(
    grid.Column(columnName: "Id",header:"Порядковий номер"),
    grid.Column(columnName: "ReviewID",header:"Номер фільма"),
    grid.Column(columnName: "LabelText",header:"Повідомлення",canSort:false),
    grid.Column(columnName: "E_mail", header:"E_mail",canSort:false),
    grid.Column(columnName: "Name",header:"Ім'я"),
    grid.Column(columnName: "Date", header :"Дата публікації")     
    )
)

</div>*@
